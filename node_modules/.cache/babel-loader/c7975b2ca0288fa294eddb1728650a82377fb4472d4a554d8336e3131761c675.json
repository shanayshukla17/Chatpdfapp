{"ast":null,"code":"'use strict';\n\nmodule.exports = stream => {\n  if (stream.listenerCount('error') !== 0) {\n    return stream;\n  }\n  stream.__destroy = stream._destroy;\n  stream._destroy = (...args) => {\n    const callback = args.pop();\n    stream.__destroy(...args, async error => {\n      await Promise.resolve();\n      callback(error);\n    });\n  };\n  const onError = error => {\n    // eslint-disable-next-line promise/prefer-await-to-then\n    Promise.resolve().then(() => {\n      stream.emit('error', error);\n    });\n  };\n  stream.once('error', onError);\n\n  // eslint-disable-next-line promise/prefer-await-to-then\n  Promise.resolve().then(() => {\n    stream.off('error', onError);\n  });\n  return stream;\n};","map":{"version":3,"names":["module","exports","stream","listenerCount","__destroy","_destroy","args","callback","pop","error","Promise","resolve","onError","then","emit","once","off"],"sources":["D:/LangChainJS/chatpdf/node_modules/http2-wrapper/source/utils/delay-async-destroy.js"],"sourcesContent":["'use strict';\n\nmodule.exports = stream => {\n\tif (stream.listenerCount('error') !== 0) {\n\t\treturn stream;\n\t}\n\n\tstream.__destroy = stream._destroy;\n\tstream._destroy = (...args) => {\n\t\tconst callback = args.pop();\n\n\t\tstream.__destroy(...args, async error => {\n\t\t\tawait Promise.resolve();\n\t\t\tcallback(error);\n\t\t});\n\t};\n\n\tconst onError = error => {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tPromise.resolve().then(() => {\n\t\t\tstream.emit('error', error);\n\t\t});\n\t};\n\n\tstream.once('error', onError);\n\n\t// eslint-disable-next-line promise/prefer-await-to-then\n\tPromise.resolve().then(() => {\n\t\tstream.off('error', onError);\n\t});\n\n\treturn stream;\n};\n"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,OAAO,GAAGC,MAAM,IAAI;EAC1B,IAAIA,MAAM,CAACC,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;IACxC,OAAOD,MAAM;EACd;EAEAA,MAAM,CAACE,SAAS,GAAGF,MAAM,CAACG,QAAQ;EAClCH,MAAM,CAACG,QAAQ,GAAG,CAAC,GAAGC,IAAI,KAAK;IAC9B,MAAMC,QAAQ,GAAGD,IAAI,CAACE,GAAG,CAAC,CAAC;IAE3BN,MAAM,CAACE,SAAS,CAAC,GAAGE,IAAI,EAAE,MAAMG,KAAK,IAAI;MACxC,MAAMC,OAAO,CAACC,OAAO,CAAC,CAAC;MACvBJ,QAAQ,CAACE,KAAK,CAAC;IAChB,CAAC,CAAC;EACH,CAAC;EAED,MAAMG,OAAO,GAAGH,KAAK,IAAI;IACxB;IACAC,OAAO,CAACC,OAAO,CAAC,CAAC,CAACE,IAAI,CAAC,MAAM;MAC5BX,MAAM,CAACY,IAAI,CAAC,OAAO,EAAEL,KAAK,CAAC;IAC5B,CAAC,CAAC;EACH,CAAC;EAEDP,MAAM,CAACa,IAAI,CAAC,OAAO,EAAEH,OAAO,CAAC;;EAE7B;EACAF,OAAO,CAACC,OAAO,CAAC,CAAC,CAACE,IAAI,CAAC,MAAM;IAC5BX,MAAM,CAACc,GAAG,CAAC,OAAO,EAAEJ,OAAO,CAAC;EAC7B,CAAC,CAAC;EAEF,OAAOV,MAAM;AACd,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}