{"ast":null,"code":"'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\nconst loadStore = options => {\n  const adapters = {\n    redis: '@keyv/redis',\n    rediss: '@keyv/redis',\n    mongodb: '@keyv/mongo',\n    mongo: '@keyv/mongo',\n    sqlite: '@keyv/sqlite',\n    postgresql: '@keyv/postgres',\n    postgres: '@keyv/postgres',\n    mysql: '@keyv/mysql',\n    etcd: '@keyv/etcd',\n    offline: '@keyv/offline',\n    tiered: '@keyv/tiered'\n  };\n  if (options.adapter || options.uri) {\n    const adapter = options.adapter || /^[^:+]*/.exec(options.uri)[0];\n    return new (require(adapters[adapter]))(options);\n  }\n  return new Map();\n};\nconst iterableAdapters = ['sqlite', 'postgres', 'mysql', 'mongo', 'redis', 'tiered'];\nclass Keyv extends EventEmitter {\n  constructor(uri, {\n    emitErrors = true,\n    ...options\n  } = {}) {\n    super();\n    this.opts = {\n      namespace: 'keyv',\n      serialize: JSONB.stringify,\n      deserialize: JSONB.parse,\n      ...(typeof uri === 'string' ? {\n        uri\n      } : uri),\n      ...options\n    };\n    if (!this.opts.store) {\n      const adapterOptions = {\n        ...this.opts\n      };\n      this.opts.store = loadStore(adapterOptions);\n    }\n    if (this.opts.compression) {\n      const compression = this.opts.compression;\n      this.opts.serialize = compression.serialize.bind(compression);\n      this.opts.deserialize = compression.deserialize.bind(compression);\n    }\n    if (typeof this.opts.store.on === 'function' && emitErrors) {\n      this.opts.store.on('error', error => this.emit('error', error));\n    }\n    this.opts.store.namespace = this.opts.namespace;\n    const generateIterator = iterator => async function* () {\n      for await (const [key, raw] of typeof iterator === 'function' ? iterator(this.opts.store.namespace) : iterator) {\n        const data = await this.opts.deserialize(raw);\n        if (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n          continue;\n        }\n        if (typeof data.expires === 'number' && Date.now() > data.expires) {\n          this.delete(key);\n          continue;\n        }\n        yield [this._getKeyUnprefix(key), data.value];\n      }\n    };\n\n    // Attach iterators\n    if (typeof this.opts.store[Symbol.iterator] === 'function' && this.opts.store instanceof Map) {\n      this.iterator = generateIterator(this.opts.store);\n    } else if (typeof this.opts.store.iterator === 'function' && this.opts.store.opts && this._checkIterableAdaptar()) {\n      this.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n    }\n  }\n  _checkIterableAdaptar() {\n    return iterableAdapters.includes(this.opts.store.opts.dialect) || iterableAdapters.findIndex(element => this.opts.store.opts.url.includes(element)) >= 0;\n  }\n  _getKeyPrefix(key) {\n    return `${this.opts.namespace}:${key}`;\n  }\n  _getKeyPrefixArray(keys) {\n    return keys.map(key => `${this.opts.namespace}:${key}`);\n  }\n  _getKeyUnprefix(key) {\n    return key.split(':').splice(1).join(':');\n  }\n  get(key, options) {\n    const {\n      store\n    } = this.opts;\n    const isArray = Array.isArray(key);\n    const keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n    if (isArray && store.getMany === undefined) {\n      const promises = [];\n      for (const key of keyPrefixed) {\n        promises.push(Promise.resolve().then(() => store.get(key)).then(data => typeof data === 'string' ? this.opts.deserialize(data) : this.opts.compression ? this.opts.deserialize(data) : data).then(data => {\n          if (data === undefined || data === null) {\n            return undefined;\n          }\n          if (typeof data.expires === 'number' && Date.now() > data.expires) {\n            return this.delete(key).then(() => undefined);\n          }\n          return options && options.raw ? data : data.value;\n        }));\n      }\n      return Promise.allSettled(promises).then(values => {\n        const data = [];\n        for (const value of values) {\n          data.push(value.value);\n        }\n        return data;\n      });\n    }\n    return Promise.resolve().then(() => isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed)).then(data => typeof data === 'string' ? this.opts.deserialize(data) : this.opts.compression ? this.opts.deserialize(data) : data).then(data => {\n      if (data === undefined || data === null) {\n        return undefined;\n      }\n      if (isArray) {\n        return data.map((row, index) => {\n          if (typeof row === 'string') {\n            row = this.opts.deserialize(row);\n          }\n          if (row === undefined || row === null) {\n            return undefined;\n          }\n          if (typeof row.expires === 'number' && Date.now() > row.expires) {\n            this.delete(key[index]).then(() => undefined);\n            return undefined;\n          }\n          return options && options.raw ? row : row.value;\n        });\n      }\n      if (typeof data.expires === 'number' && Date.now() > data.expires) {\n        return this.delete(key).then(() => undefined);\n      }\n      return options && options.raw ? data : data.value;\n    });\n  }\n  set(key, value, ttl) {\n    const keyPrefixed = this._getKeyPrefix(key);\n    if (typeof ttl === 'undefined') {\n      ttl = this.opts.ttl;\n    }\n    if (ttl === 0) {\n      ttl = undefined;\n    }\n    const {\n      store\n    } = this.opts;\n    return Promise.resolve().then(() => {\n      const expires = typeof ttl === 'number' ? Date.now() + ttl : null;\n      if (typeof value === 'symbol') {\n        this.emit('error', 'symbol cannot be serialized');\n      }\n      value = {\n        value,\n        expires\n      };\n      return this.opts.serialize(value);\n    }).then(value => store.set(keyPrefixed, value, ttl)).then(() => true);\n  }\n  delete(key) {\n    const {\n      store\n    } = this.opts;\n    if (Array.isArray(key)) {\n      const keyPrefixed = this._getKeyPrefixArray(key);\n      if (store.deleteMany === undefined) {\n        const promises = [];\n        for (const key of keyPrefixed) {\n          promises.push(store.delete(key));\n        }\n        return Promise.allSettled(promises).then(values => values.every(x => x.value === true));\n      }\n      return Promise.resolve().then(() => store.deleteMany(keyPrefixed));\n    }\n    const keyPrefixed = this._getKeyPrefix(key);\n    return Promise.resolve().then(() => store.delete(keyPrefixed));\n  }\n  clear() {\n    const {\n      store\n    } = this.opts;\n    return Promise.resolve().then(() => store.clear());\n  }\n  has(key) {\n    const keyPrefixed = this._getKeyPrefix(key);\n    const {\n      store\n    } = this.opts;\n    return Promise.resolve().then(async () => {\n      if (typeof store.has === 'function') {\n        return store.has(keyPrefixed);\n      }\n      const value = await store.get(keyPrefixed);\n      return value !== undefined;\n    });\n  }\n  disconnect() {\n    const {\n      store\n    } = this.opts;\n    if (typeof store.disconnect === 'function') {\n      return store.disconnect();\n    }\n  }\n}\nmodule.exports = Keyv;","map":{"version":3,"names":["EventEmitter","require","JSONB","loadStore","options","adapters","redis","rediss","mongodb","mongo","sqlite","postgresql","postgres","mysql","etcd","offline","tiered","adapter","uri","exec","Map","iterableAdapters","Keyv","constructor","emitErrors","opts","namespace","serialize","stringify","deserialize","parse","store","adapterOptions","compression","bind","on","error","emit","generateIterator","iterator","key","raw","data","includes","expires","Date","now","delete","_getKeyUnprefix","value","Symbol","_checkIterableAdaptar","dialect","findIndex","element","url","_getKeyPrefix","_getKeyPrefixArray","keys","map","split","splice","join","get","isArray","Array","keyPrefixed","getMany","undefined","promises","push","Promise","resolve","then","allSettled","values","row","index","set","ttl","deleteMany","every","x","clear","has","disconnect","module","exports"],"sources":["D:/LangChainJS/chatpdf/node_modules/keyv/src/index.js"],"sourcesContent":["'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\n\nconst loadStore = options => {\n\tconst adapters = {\n\t\tredis: '@keyv/redis',\n\t\trediss: '@keyv/redis',\n\t\tmongodb: '@keyv/mongo',\n\t\tmongo: '@keyv/mongo',\n\t\tsqlite: '@keyv/sqlite',\n\t\tpostgresql: '@keyv/postgres',\n\t\tpostgres: '@keyv/postgres',\n\t\tmysql: '@keyv/mysql',\n\t\tetcd: '@keyv/etcd',\n\t\toffline: '@keyv/offline',\n\t\ttiered: '@keyv/tiered',\n\t};\n\tif (options.adapter || options.uri) {\n\t\tconst adapter = options.adapter || /^[^:+]*/.exec(options.uri)[0];\n\t\treturn new (require(adapters[adapter]))(options);\n\t}\n\n\treturn new Map();\n};\n\nconst iterableAdapters = [\n\t'sqlite',\n\t'postgres',\n\t'mysql',\n\t'mongo',\n\t'redis',\n\t'tiered',\n];\n\nclass Keyv extends EventEmitter {\n\tconstructor(uri, {emitErrors = true, ...options} = {}) {\n\t\tsuper();\n\t\tthis.opts = {\n\t\t\tnamespace: 'keyv',\n\t\t\tserialize: JSONB.stringify,\n\t\t\tdeserialize: JSONB.parse,\n\t\t\t...((typeof uri === 'string') ? {uri} : uri),\n\t\t\t...options,\n\t\t};\n\n\t\tif (!this.opts.store) {\n\t\t\tconst adapterOptions = {...this.opts};\n\t\t\tthis.opts.store = loadStore(adapterOptions);\n\t\t}\n\n\t\tif (this.opts.compression) {\n\t\t\tconst compression = this.opts.compression;\n\t\t\tthis.opts.serialize = compression.serialize.bind(compression);\n\t\t\tthis.opts.deserialize = compression.deserialize.bind(compression);\n\t\t}\n\n\t\tif (typeof this.opts.store.on === 'function' && emitErrors) {\n\t\t\tthis.opts.store.on('error', error => this.emit('error', error));\n\t\t}\n\n\t\tthis.opts.store.namespace = this.opts.namespace;\n\n\t\tconst generateIterator = iterator => async function * () {\n\t\t\tfor await (const [key, raw] of typeof iterator === 'function'\n\t\t\t\t? iterator(this.opts.store.namespace)\n\t\t\t\t: iterator) {\n\t\t\t\tconst data = await this.opts.deserialize(raw);\n\t\t\t\tif (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\tthis.delete(key);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tyield [this._getKeyUnprefix(key), data.value];\n\t\t\t}\n\t\t};\n\n\t\t// Attach iterators\n\t\tif (typeof this.opts.store[Symbol.iterator] === 'function' && this.opts.store instanceof Map) {\n\t\t\tthis.iterator = generateIterator(this.opts.store);\n\t\t} else if (typeof this.opts.store.iterator === 'function' && this.opts.store.opts\n\t\t\t&& this._checkIterableAdaptar()) {\n\t\t\tthis.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n\t\t}\n\t}\n\n\t_checkIterableAdaptar() {\n\t\treturn iterableAdapters.includes(this.opts.store.opts.dialect)\n\t\t\t|| iterableAdapters.findIndex(element => this.opts.store.opts.url.includes(element)) >= 0;\n\t}\n\n\t_getKeyPrefix(key) {\n\t\treturn `${this.opts.namespace}:${key}`;\n\t}\n\n\t_getKeyPrefixArray(keys) {\n\t\treturn keys.map(key => `${this.opts.namespace}:${key}`);\n\t}\n\n\t_getKeyUnprefix(key) {\n\t\treturn key\n\t\t\t.split(':')\n\t\t\t.splice(1)\n\t\t\t.join(':');\n\t}\n\n\tget(key, options) {\n\t\tconst {store} = this.opts;\n\t\tconst isArray = Array.isArray(key);\n\t\tconst keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n\t\tif (isArray && store.getMany === undefined) {\n\t\t\tconst promises = [];\n\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\tpromises.push(Promise.resolve()\n\t\t\t\t\t.then(() => store.get(key))\n\t\t\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t.then(values => {\n\t\t\t\t\tconst data = [];\n\t\t\t\t\tfor (const value of values) {\n\t\t\t\t\t\tdata.push(value.value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed))\n\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t.then(data => {\n\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tif (isArray) {\n\t\t\t\t\treturn data.map((row, index) => {\n\t\t\t\t\t\tif ((typeof row === 'string')) {\n\t\t\t\t\t\t\trow = this.opts.deserialize(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (row === undefined || row === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof row.expires === 'number' && Date.now() > row.expires) {\n\t\t\t\t\t\t\tthis.delete(key[index]).then(() => undefined);\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? row : row.value;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t}\n\n\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t});\n\t}\n\n\tset(key, value, ttl) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tif (typeof ttl === 'undefined') {\n\t\t\tttl = this.opts.ttl;\n\t\t}\n\n\t\tif (ttl === 0) {\n\t\t\tttl = undefined;\n\t\t}\n\n\t\tconst {store} = this.opts;\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tconst expires = (typeof ttl === 'number') ? (Date.now() + ttl) : null;\n\t\t\t\tif (typeof value === 'symbol') {\n\t\t\t\t\tthis.emit('error', 'symbol cannot be serialized');\n\t\t\t\t}\n\n\t\t\t\tvalue = {value, expires};\n\t\t\t\treturn this.opts.serialize(value);\n\t\t\t})\n\t\t\t.then(value => store.set(keyPrefixed, value, ttl))\n\t\t\t.then(() => true);\n\t}\n\n\tdelete(key) {\n\t\tconst {store} = this.opts;\n\t\tif (Array.isArray(key)) {\n\t\t\tconst keyPrefixed = this._getKeyPrefixArray(key);\n\t\t\tif (store.deleteMany === undefined) {\n\t\t\t\tconst promises = [];\n\t\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\t\tpromises.push(store.delete(key));\n\t\t\t\t}\n\n\t\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t\t.then(values => values.every(x => x.value === true));\n\t\t\t}\n\n\t\t\treturn Promise.resolve()\n\t\t\t\t.then(() => store.deleteMany(keyPrefixed));\n\t\t}\n\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.delete(keyPrefixed));\n\t}\n\n\tclear() {\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.clear());\n\t}\n\n\thas(key) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(async () => {\n\t\t\t\tif (typeof store.has === 'function') {\n\t\t\t\t\treturn store.has(keyPrefixed);\n\t\t\t\t}\n\n\t\t\t\tconst value = await store.get(keyPrefixed);\n\t\t\t\treturn value !== undefined;\n\t\t\t});\n\t}\n\n\tdisconnect() {\n\t\tconst {store} = this.opts;\n\t\tif (typeof store.disconnect === 'function') {\n\t\t\treturn store.disconnect();\n\t\t}\n\t}\n}\n\nmodule.exports = Keyv;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}