{"ast":null,"code":"export default function parseLinkHeader(link) {\n  const parsed = [];\n  const items = link.split(',');\n  for (const item of items) {\n    // https://tools.ietf.org/html/rfc5988#section-5\n    const [rawUriReference, ...rawLinkParameters] = item.split(';');\n    const trimmedUriReference = rawUriReference.trim();\n    // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n    if (trimmedUriReference[0] !== '<' || trimmedUriReference[trimmedUriReference.length - 1] !== '>') {\n      throw new Error(`Invalid format of the Link header reference: ${trimmedUriReference}`);\n    }\n    const reference = trimmedUriReference.slice(1, -1);\n    const parameters = {};\n    if (rawLinkParameters.length === 0) {\n      throw new Error(`Unexpected end of Link header parameters: ${rawLinkParameters.join(';')}`);\n    }\n    for (const rawParameter of rawLinkParameters) {\n      const trimmedRawParameter = rawParameter.trim();\n      const center = trimmedRawParameter.indexOf('=');\n      if (center === -1) {\n        throw new Error(`Failed to parse Link header: ${link}`);\n      }\n      const name = trimmedRawParameter.slice(0, center).trim();\n      const value = trimmedRawParameter.slice(center + 1).trim();\n      parameters[name] = value;\n    }\n    parsed.push({\n      reference,\n      parameters\n    });\n  }\n  return parsed;\n}","map":{"version":3,"names":["parseLinkHeader","link","parsed","items","split","item","rawUriReference","rawLinkParameters","trimmedUriReference","trim","length","Error","reference","slice","parameters","join","rawParameter","trimmedRawParameter","center","indexOf","name","value","push"],"sources":["D:/LangChainJS/chatpdf/node_modules/got/dist/source/core/parse-link-header.js"],"sourcesContent":["export default function parseLinkHeader(link) {\n    const parsed = [];\n    const items = link.split(',');\n    for (const item of items) {\n        // https://tools.ietf.org/html/rfc5988#section-5\n        const [rawUriReference, ...rawLinkParameters] = item.split(';');\n        const trimmedUriReference = rawUriReference.trim();\n        // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n        if (trimmedUriReference[0] !== '<' || trimmedUriReference[trimmedUriReference.length - 1] !== '>') {\n            throw new Error(`Invalid format of the Link header reference: ${trimmedUriReference}`);\n        }\n        const reference = trimmedUriReference.slice(1, -1);\n        const parameters = {};\n        if (rawLinkParameters.length === 0) {\n            throw new Error(`Unexpected end of Link header parameters: ${rawLinkParameters.join(';')}`);\n        }\n        for (const rawParameter of rawLinkParameters) {\n            const trimmedRawParameter = rawParameter.trim();\n            const center = trimmedRawParameter.indexOf('=');\n            if (center === -1) {\n                throw new Error(`Failed to parse Link header: ${link}`);\n            }\n            const name = trimmedRawParameter.slice(0, center).trim();\n            const value = trimmedRawParameter.slice(center + 1).trim();\n            parameters[name] = value;\n        }\n        parsed.push({\n            reference,\n            parameters,\n        });\n    }\n    return parsed;\n}\n"],"mappings":"AAAA,eAAe,SAASA,eAAeA,CAACC,IAAI,EAAE;EAC1C,MAAMC,MAAM,GAAG,EAAE;EACjB,MAAMC,KAAK,GAAGF,IAAI,CAACG,KAAK,CAAC,GAAG,CAAC;EAC7B,KAAK,MAAMC,IAAI,IAAIF,KAAK,EAAE;IACtB;IACA,MAAM,CAACG,eAAe,EAAE,GAAGC,iBAAiB,CAAC,GAAGF,IAAI,CAACD,KAAK,CAAC,GAAG,CAAC;IAC/D,MAAMI,mBAAmB,GAAGF,eAAe,CAACG,IAAI,CAAC,CAAC;IAClD;IACA,IAAID,mBAAmB,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIA,mBAAmB,CAACA,mBAAmB,CAACE,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;MAC/F,MAAM,IAAIC,KAAK,CAAC,gDAAgDH,mBAAmB,EAAE,CAAC;IAC1F;IACA,MAAMI,SAAS,GAAGJ,mBAAmB,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClD,MAAMC,UAAU,GAAG,CAAC,CAAC;IACrB,IAAIP,iBAAiB,CAACG,MAAM,KAAK,CAAC,EAAE;MAChC,MAAM,IAAIC,KAAK,CAAC,6CAA6CJ,iBAAiB,CAACQ,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;IAC/F;IACA,KAAK,MAAMC,YAAY,IAAIT,iBAAiB,EAAE;MAC1C,MAAMU,mBAAmB,GAAGD,YAAY,CAACP,IAAI,CAAC,CAAC;MAC/C,MAAMS,MAAM,GAAGD,mBAAmB,CAACE,OAAO,CAAC,GAAG,CAAC;MAC/C,IAAID,MAAM,KAAK,CAAC,CAAC,EAAE;QACf,MAAM,IAAIP,KAAK,CAAC,gCAAgCV,IAAI,EAAE,CAAC;MAC3D;MACA,MAAMmB,IAAI,GAAGH,mBAAmB,CAACJ,KAAK,CAAC,CAAC,EAAEK,MAAM,CAAC,CAACT,IAAI,CAAC,CAAC;MACxD,MAAMY,KAAK,GAAGJ,mBAAmB,CAACJ,KAAK,CAACK,MAAM,GAAG,CAAC,CAAC,CAACT,IAAI,CAAC,CAAC;MAC1DK,UAAU,CAACM,IAAI,CAAC,GAAGC,KAAK;IAC5B;IACAnB,MAAM,CAACoB,IAAI,CAAC;MACRV,SAAS;MACTE;IACJ,CAAC,CAAC;EACN;EACA,OAAOZ,MAAM;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}