{"ast":null,"code":"import { isFunction } from \"./isFunction.js\";\nconst isAsyncIterable = value => isFunction(value[Symbol.asyncIterator]);\nasync function* readStream(readable) {\n  const reader = readable.getReader();\n  while (true) {\n    const {\n      done,\n      value\n    } = await reader.read();\n    if (done) {\n      break;\n    }\n    yield value;\n  }\n}\nexport const getStreamIterator = source => {\n  if (isAsyncIterable(source)) {\n    return source;\n  }\n  if (isFunction(source.getReader)) {\n    return readStream(source);\n  }\n  throw new TypeError(\"Unsupported data source: Expected either ReadableStream or async iterable.\");\n};","map":{"version":3,"names":["isFunction","isAsyncIterable","value","Symbol","asyncIterator","readStream","readable","reader","getReader","done","read","getStreamIterator","source","TypeError"],"sources":["D:/LangChainJS/chatpdf/node_modules/form-data-encoder/lib/util/getStreamIterator.js"],"sourcesContent":["import { isFunction } from \"./isFunction.js\";\nconst isAsyncIterable = (value) => (isFunction(value[Symbol.asyncIterator]));\nasync function* readStream(readable) {\n    const reader = readable.getReader();\n    while (true) {\n        const { done, value } = await reader.read();\n        if (done) {\n            break;\n        }\n        yield value;\n    }\n}\nexport const getStreamIterator = (source) => {\n    if (isAsyncIterable(source)) {\n        return source;\n    }\n    if (isFunction(source.getReader)) {\n        return readStream(source);\n    }\n    throw new TypeError(\"Unsupported data source: Expected either ReadableStream or async iterable.\");\n};\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,iBAAiB;AAC5C,MAAMC,eAAe,GAAIC,KAAK,IAAMF,UAAU,CAACE,KAAK,CAACC,MAAM,CAACC,aAAa,CAAC,CAAE;AAC5E,gBAAgBC,UAAUA,CAACC,QAAQ,EAAE;EACjC,MAAMC,MAAM,GAAGD,QAAQ,CAACE,SAAS,CAAC,CAAC;EACnC,OAAO,IAAI,EAAE;IACT,MAAM;MAAEC,IAAI;MAAEP;IAAM,CAAC,GAAG,MAAMK,MAAM,CAACG,IAAI,CAAC,CAAC;IAC3C,IAAID,IAAI,EAAE;MACN;IACJ;IACA,MAAMP,KAAK;EACf;AACJ;AACA,OAAO,MAAMS,iBAAiB,GAAIC,MAAM,IAAK;EACzC,IAAIX,eAAe,CAACW,MAAM,CAAC,EAAE;IACzB,OAAOA,MAAM;EACjB;EACA,IAAIZ,UAAU,CAACY,MAAM,CAACJ,SAAS,CAAC,EAAE;IAC9B,OAAOH,UAAU,CAACO,MAAM,CAAC;EAC7B;EACA,MAAM,IAAIC,SAAS,CAAC,4EAA4E,CAAC;AACrG,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}